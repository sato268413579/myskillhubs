# AI情報収集（トレンド検索）- Requirements Document

## 1. 機能概要

### 1.1 位置づけ
MySkillHubs内のPoC機能の一つとして、2段階AI分析によるトレンド調査機能を提供します。

### 1.2 主要技術
- **フロントエンド**: React + TypeScript
- **バックエンド**: Flask (Python)
- **AI API**: 外部AI API（OpenAI等）
- **エンドポイント**: `/service/aiSearch`
- **状態**: 稼働中

## 2. 現在の実装状況

### 2.1 実装済み機能

#### 2.1.1 トレンド検索
- キーワードベースのトレンド検索
- クイックアクセストレンド（AI技術、リモートワーク、サステナビリティ等）
- カテゴリ別トレンド選択

#### 2.1.2 2段階AI分析
- **Phase 1**: 基本分析とキーワード抽出
- **Phase 2**: 詳細分析と市場調査
- 分析時間: 通常2-5分

#### 2.1.3 結果表示
- Markdown形式の詳細レポート
- 構造化された分析結果
- 新しい検索への遷移

### 2.2 技術スタック
- **フロントエンド**: React Hooks, カスタムMarkdownレンダラー
- **バックエンド**: Flask, AI API統合
- **通信**: REST API, AbortController（タイムアウト制御）

### 2.3 API仕様

```
GET /trendSearch/search?trend={keyword}
- タイムアウト: 5分
- レスポンス: { detailed_summary: string }
```

## 3. 機能要件

### 3.1 トレンド検索
**User Story:** As a ユーザー, I want トレンド情報を調査したい, so that 最新の動向を把握できる

#### Acceptance Criteria
1. WHEN ユーザーがキーワードを入力する THEN AI分析が開始される
2. WHEN 分析が進行中 THEN ローディング状態が表示される
3. WHEN 分析が完了する THEN 詳細レポートが表示される
4. WHEN エラーが発生する THEN 適切なエラーメッセージが表示される
5. IF タイムアウトする THEN タイムアウトメッセージが表示される

### 3.2 2段階AI分析
**User Story:** As a ユーザー, I want 詳細な分析結果を得たい, so that 深い洞察を得られる

#### Acceptance Criteria
1. WHEN Phase 1が完了する THEN キーワードが抽出される
2. WHEN Phase 2が開始される THEN 詳細分析が実行される
3. WHEN 分析が完了する THEN Markdown形式のレポートが生成される

### 3.3 拡張機能（将来実装）
- 分析結果の保存・履歴管理
- 複数キーワードの比較分析
- グラフ・チャートによる可視化
- PDF/Excel形式でのエクスポート
- 定期的な自動分析とレポート配信
- カスタム分析テンプレート

## 4. 非機能要件

### 4.1 パフォーマンス
- 分析時間: 通常2-5分（AI API依存）
- タイムアウト: 5分
- UI応答性: 即座

### 4.2 信頼性
- タイムアウト制御
- エラーハンドリング
- AbortControllerによるキャンセル機能

### 4.3 ユーザビリティ
- 分析進行状況の表示
- 明確なエラーメッセージ
- 新しい検索への簡単な遷移

## 5. 制約事項
- AI API依存のため、分析時間が長い（2-5分）
- AI APIの利用制限・コスト
- 分析結果の品質はAI APIに依存
- 現在は分析結果の保存機能なし
